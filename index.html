<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>ç‹å®¶ç¿çš„ç•™è¨€æ¿ä¸ç®€ä»‹</title> <!-- ä¿®æ”¹æ ‡é¢˜ -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAYftoevTnczZimCLzzJujqFqBXcReMvt8",
      authDomain: "metalphon-7ed49.firebaseapp.com",
      projectId: "metalphon-7ed49",
      storageBucket: "metalphon-7ed49.appspot.com",
      messagingSenderId: "965453822169",
      appId: "1:965453822169:web:8ea6ec693243af8892e6c8",
      measurementId: "G-Y6LN2HHHH7"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    let currentUser = null;
    let loadingAnimationElement = null;

    function showLoading() {
      if (loadingAnimationElement) loadingAnimationElement.style.display = "flex";
    }

    function hideLoading() {
      if (loadingAnimationElement) loadingAnimationElement.style.display = "none";
    }


    window.startChat = () => {
      const nameInput = document.getElementById("nickname").value.trim();
      if (nameInput) {
        currentUser = nameInput;
        document.getElementById("welcome-section").style.display = "none";
        document.getElementById("profile-section").style.display = "block"; // æ˜¾ç¤ºç®€ä»‹
        document.getElementById("chat-section").style.display = "block";    // æ˜¾ç¤ºèŠå¤©
        document.getElementById("welcome-name").textContent = currentUser;
        loadMessages();
        // æ˜¾ç¤ºåº•éƒ¨èœå•æ 
        document.getElementById("bottom-menu").style.display = "flex";
      } else {
        alert("è¯·è¾“å…¥ä½ çš„æ˜µç§°ï¼");
      }
    };

    window.submitMessage = async () => {
      const input = document.getElementById("message-input");
      const message = input.value.trim();

      if (!currentUser) {
        alert("è¯·å…ˆè¿›å…¥ç•™è¨€æ¿ï¼ˆè®¾ç½®æ˜µç§°ï¼‰ã€‚");
        return;
      }
      if (!message) {
        alert("ç•™è¨€å†…å®¹ä¸èƒ½ä¸ºç©ºï¼");
        return;
      }

      showLoading(); 
      const messagesContainer = document.getElementById("messages");
      messagesContainer.innerHTML = ''; 

      try {
        await addDoc(collection(db, "messages"), {
          user: currentUser,
          content: message,
          timestamp: serverTimestamp() 
        });
        input.value = "";
      } catch (error) {
        console.error("Error adding document: ", error);
        alert("å‘é€ç•™è¨€å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°è·å–æ›´å¤šä¿¡æ¯ã€‚");
        hideLoading(); 
      } finally {
        loadMessages(); 
      }
    };

    window.loadMessages = async () => {
      const container = document.getElementById("messages");
      showLoading(); 

      try {
        const q = query(collection(db, "messages"), orderBy("timestamp", "desc"));
        const querySnapshot = await getDocs(q);
        let html = "";
        if (querySnapshot.empty) {
          html = "<p>è¿˜æ²¡æœ‰ç•™è¨€ï¼Œå¿«æ¥æŠ¢æ²™å‘å§ï¼</p>";
        } else {
          querySnapshot.forEach((doc) => {
            const data = doc.data();
            const date = data.timestamp && data.timestamp.toDate ? data.timestamp.toDate().toLocaleString('zh-CN') : 'å‘é€ä¸­...'; // ä½¿ç”¨ä¸­æ–‡åŒºåŸŸè®¾ç½®
            html += `
              <div class="message-item">
                <strong class="message-user">${data.user || "åŒ¿å"}</strong>
                <span class="message-timestamp">(${date})</span>ï¼š
                <span class="message-content">${data.content}</span>
              </div>
            `;
          });
        }
        container.innerHTML = html;
      } catch (error) {
        console.error("Error loading messages: ", error);
        container.innerHTML = "<p style='color:red;'>åŠ è½½ç•™è¨€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ç¨åå†è¯•ã€‚</p>";
      } finally {
        hideLoading(); 
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
        loadingAnimationElement = document.getElementById("loading-animation");
        // ç™»å½•é¡µæ—¶éšè—åº•éƒ¨èœå•
        document.getElementById("bottom-menu").style.display = "none";
    });

  </script>

  <style>
    body {
      min-height: 100vh;
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #a5b4fc 0%, #b39ddb 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Segoe UI', 'Arial', sans-serif;
    }
    .center-bg {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .form {
      --background: #d3d3d3;
      --input-focus: #2d8cf0;
      --font-color: #323232;
      --font-color-sub: #666;
      --bg-color: #fff;
      --main-color: #323232;
      padding: 20px;
      background: var(--background);
      display: flex;
      flex-direction: column;
      align-items: center; /* å±…ä¸­ */
      justify-content: center;
      gap: 20px;
      border-radius: 5px;
      border: 2px solid var(--main-color);
      box-shadow: 4px 4px var(--main-color);
    }
    .form > p {
      color: var(--font-color);
      font-weight: 700;
      font-size: 20px;
      margin-bottom: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .form > p > span {
      color: var(--font-color-sub);
      font-weight: 600;
      font-size: 17px;
    }
    .separator {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
    }
    .separator > div {
      width: 100px;
      height: 3px;
      border-radius: 5px;
      background-color: var(--font-color-sub);
    }
    .separator > span {
      color: var(--font-color);
      font-weight: 600;
    }
    .oauthButton {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 2px solid var(--main-color);
      background-color: var(--bg-color);
      box-shadow: 4px 4px var(--main-color);
      font-size: 16px;
      font-weight: 600;
      color: var(--font-color);
      cursor: pointer;
      transition: all 250ms;
      position: relative;
      overflow: hidden;
      z-index: 1;
      padding: 0 15px;
    }
    .oauthButton::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 0;
      background-color: #212121;
      z-index: -1;
      box-shadow: 4px 8px 19px -3px rgba(0, 0, 0, 0.27);
      transition: all 250ms;
    }
    .oauthButton:hover {
      color: #e8e8e8;
    }
    .oauthButton:hover::before {
      width: 100%;
    }
    .form > input {
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 2px solid var(--main-color);
      background-color: var(--bg-color);
      box-shadow: 4px 4px var(--main-color);
      font-size: 15px;
      font-weight: 600;
      color: var(--font-color);
      padding: 5px 10px;
      outline: none;
    }
    .icon {
      width: 1.5rem;
      height: 1.5rem;
    }
    .hero-bg {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: fixed;
      top: 0; left: 0;
      z-index: 0;
    }
    .hero-card {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(60,60,120,0.18);
      padding: 3rem 2.5rem 2.5rem 2.5rem;
      text-align: center;
      max-width: 420px;
      width: 100%;
      animation: fadeInUp 1s;
      z-index: 1;
    }
    .avatar {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      margin-bottom: 1.2rem;
      box-shadow: 0 2px 8px rgba(99,102,241,0.18);
      border: 4px solid #a5b4fc;
      object-fit: cover;
    }
    h1 {
      font-size: 2.2rem;
      color: #4f46e5;
      margin-bottom: 0.5rem;
      font-weight: 800;
      letter-spacing: 1px;
    }
    .subtitle {
      font-size: 1.1rem;
      color: #6366f1;
      margin-bottom: 0.8rem;
    }
    .intro {
      color: #374151;
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }
    .input-label {
        display: block;
        margin-bottom: 0.5rem;
        color: #333;
        font-weight: bold;
        text-align: left;
    }
    .input {
      width: calc(100% - 22px); 
      padding: 10px; 
      margin-top: 4px; 
      margin-bottom: 16px; 
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
      box-sizing: border-box;
    }
    .input:focus {
        border-color: #4f46e5;
        outline: none;
        box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
    }
    .btn {
      background: linear-gradient(90deg, #6366f1 0%, #4f46e5 100%);
      color: white;
      padding: 10px 20px; 
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: background 0.2s, transform 0.2s;
      box-shadow: 0 2px 8px rgba(99,102,241,0.12);
    }
    .btn:hover {
      background: linear-gradient(90deg, #4f46e5 0%, #6366f1 100%);
      transform: translateY(-2px) scale(1.04);
    }
    .btn:active {
        background: #3730a3;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    /* è®©åç»­å†…å®¹ä¸å—å…¨å±èƒŒæ™¯å½±å“ */
    #profile-section, #chat-section {
      position: relative;
      z-index: 2;
    }
    .card {
      width: 100%; 
      margin: 1rem auto;
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    /* ç®€ä»‹éƒ¨åˆ†çš„ç‰¹å®šæ ·å¼ */
    #profile-section {
      position: fixed;
      top: 0%;
      left: 0%;
      transform: translate(-50%, -50%);
      max-height: 80vh;
      overflow-y: auto;
     
    }
    #profile-section h2 {
        color: #4f46e5; /* ä¸æŒ‰é’®é¢œè‰²å‘¼åº” */
        margin-bottom: 1.5rem;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 0.5rem;
    }
    #profile-section p {
        margin-bottom: 0.8rem;
        line-height: 1.6;
        color: #374151;
    }
    #profile-section strong {
        color: #1f2937;
    }

    #messages {
        margin-top: 1.5rem;
        max-height: 300px; /* è°ƒæ•´é«˜åº¦ä¸ºç®€ä»‹è…¾å‡ºç©ºé—´ */
        overflow-y: auto; 
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 1rem;
        background-color: #f9fafb;
        min-height: 50px; 
    }

    .message-item {
      margin-bottom: 0.75rem; 
      padding: 0.75rem;
      border-radius: 0.5rem;
      background-color: #ffffff; 
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      border-left: 4px solid #4f46e5; 
    }
    .message-user {
        font-weight: bold;
        color: #374151;
    }
    .message-timestamp {
        font-size: 0.8rem;
        color: #6b7280;
        margin-left: 0.5rem;
    }
    .message-content {
        display: block; 
        margin-top: 0.25rem;
        color: #1f2937;
        word-wrap: break-word; 
    }

    /* Loading Animation Styles */
    .loader {
      --ANIMATION-DELAY-MULTIPLIER: 70ms;
      padding: 0;
      margin: 20px auto; 
      display: none; 
      flex-direction: row;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      height: 50px; 
    }
    .loader span {
      padding: 0;
      margin: 0;
      letter-spacing: -5rem;
      animation-delay: 0s;
      transform: translateY(4rem);
      animation: hideAndSeek 1s alternate infinite cubic-bezier(0.86, 0, 0.07, 1);
    }
    .loader .l { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 0); }
    .loader .o { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 1); }
    .loader .a { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 2); }
    .loader .d { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 3); }
    .loader .ispan { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 4); }
    .loader .n { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 5); }
    .loader .g { animation-delay: calc(var(--ANIMATION-DELAY-MULTIPLIER) * 6); }
    .letter { width: fit-content; height: 3rem; }
    .ispan .letter { margin-inline: 5px; }
    @keyframes hideAndSeek {
      0% { transform: translateY(4rem); }
      100% { transform: translateY(0rem); }
    }

    #particles-js {
      position: absolute;
      width: 100vw;
      height: 100vh;
      top: 0; left: 0;
      z-index: 0;
    }
    .hero-card {
      position: relative;
      z-index: 2;
    }
    .hero-bg {
      position: relative;
      z-index: 1;
    }
    .pixel-bg {
      position: fixed;
      width: 100vw;
      height: 100vh;
      left: 0; top: 0;
      pointer-events: none;
      z-index: 0;
    }
    .pixel-board {
      position: absolute;
      opacity: 0.7;
    }
    .pixel-board-tl { left: 2vw; top: 2vh; transform: rotate(-10deg);}
    .pixel-board-br { right: 2vw; bottom: 2vh; transform: rotate(12deg);}
    .pixel-board-tr { right: 8vw; top: 8vh; transform: rotate(6deg);}
    .pixel-board-bl { left: 8vw; bottom: 8vh; transform: rotate(-7deg);}
    .chip-wall-bg, .chip-wall-grid, .chip-svg { display: none !important; }
    #matrix-bg {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
      pointer-events: none;
      background: #000;
      opacity: 1;
    }
    .center-bg, .form, #welcome-section, #profile-section, #chat-section {
      position: relative;
      z-index: 1;
    }
    /* å›ºå®šåº•éƒ¨èœå•æ ·å¼ */
    .menu {
      padding: 0.5rem;
      background-color: rgba(255,255,255,0.7);
      backdrop-filter: blur(8px);
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 100;
      display: none;
      justify-content: center;
      border-radius: 15px 15px 0 0;
      box-shadow: 0 10px 25px 0 rgba(0,0,0,0.075);
      gap: 1rem;
    }
    .link {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 70px;
      height: 50px;
      border-radius: 8px;
      position: relative;
      z-index: 1;
      overflow: hidden;
      transform-origin: center left;
      transition: width 0.2s ease-in, background 0.2s, opacity 0.2s;
      text-decoration: none;
      color: inherit;
      background: none;
      opacity: 0.7;
    }
    .link.active {
      opacity: 1;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 2px 8px rgba(99,102,241,0.12);
    }
    .link:before {
      position: absolute;
      z-index: -1;
      content: "";
      display: block;
      border-radius: 8px;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      transform: translateX(100%);
      transition: transform 0.2s ease-in;
      transform-origin: center right;
      background-color: #eee;
    }
    .link:hover,
    .link:focus {
      outline: 0;
      width: 130px;
    }
    .link:hover:before,
    .link:focus:before {
      transform: translateX(0);
      opacity: 1;
    }
    .link-icon {
      width: 28px;
      height: 28px;
      display: block;
      flex-shrink: 0;
      left: 18px;
      position: absolute;
    }
    .link-title {
      transform: translateX(100%);
      transition: transform 0.2s ease-in;
      transform-origin: center right;
      display: block;
      text-align: center;
      text-indent: 28px;
      width: 100%;
      opacity: 0;
    }
    .link:hover .link-title,
    .link:focus .link-title {
      transform: translateX(0);
      opacity: 1;
    }
    html, body {
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    .main-container {
      width: 900px;
      height: 600px;
      max-width: 95vw;
      max-height: 80vh;
      margin: auto;
      position: relative;
      background: none;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .page-section {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      display: none;
    }
    .page-section[style*="display:block"] {
      display: block;
    }
    .card {
      width: 100%;
      max-width: 800px;
      margin: 1rem auto;
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      overflow: auto;
      max-height: 90%;
    }
    /* æ’å…¥ .container-card-charts ç›¸å…³æ ·å¼ */
    .container-card-charts {
      position: relative;
      width: 300px;
      height: 300px;
      background: linear-gradient(
        to top,
        rgba(255, 255, 255),
        rgba(255, 255, 255, 0.1)
      );
      border-radius: 32px;
      padding: 1.6px;
      box-shadow: 0 0px 80px -10px rgba(255, 255, 255, 0.15);
    }
    .container-card-charts::before {
      position: absolute;
      content: "";
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 80px;
      background-color: #777777;
      z-index: -10;
      filter: blur(70px);
    }
    .card-charts {
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, #1b1b1b, #000000);
      border-radius: 32px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .charts-lines {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .charts-lines i {
      position: absolute;
      inset: 0;
      display: flex;
      width: 100%;
      height: 100%;
    }
    .lines {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: space-between;
    }
    .lines span {
      width: 1.5px;
      height: 100%;
      margin: 0 18px;
      background: linear-gradient(
        to top,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.025) 50%,
        rgba(255, 255, 255, 0) 100%
      );
    }
    .tags-card {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px;
    }
    .tags-card .radio {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      border-radius: 12px;
      color: #a7a7a7;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      font-size: 8px;
      font-weight: 600;
      cursor: pointer;
    }
    .tags-card .radio:hover {
      color: #ffffff;
    }
    .tags-card .radio input {
      display: none;
    }
    .tags-card .radio .name {
      width: 100%;
      padding: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      z-index: 1;
    }
    .tags-card .radio input:checked + .name {
      color: #ffffff;
      background: linear-gradient(15deg, #898989, #181818, #000000);
      transform: scale(1.1);
    }
    .tags-card .radio input:checked + .name::before {
      position: absolute;
      background-color: #212121;
      content: "";
      inset: 1px;
      z-index: -1;
      border-radius: 12px;
    }
    .main-texts {
      display: flex;
      flex-direction: column;
      padding: 0 20px;
      font-weight: 500;
    }
    .main-texts .title {
      background-image: linear-gradient(to top left, #92400e, #f9d86d, #a6a6a6);
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
    }
    .main-texts .change {
      background-image: linear-gradient(to right, #8e1414, #ffffff, #ffffff);
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
    }
    .charts-lines path {
      opacity: 0;
    }
    .card-charts svg {
      transition: transform 0.5s ease;
    }
    .card-charts:hover svg {
      transform: scale(1.5);
    }
    .icon-week path {
      animation: draw 8s ease infinite;
    }
    .icon-month path {
      animation: draw 8s 3s ease infinite;
    }
    @keyframes draw {
      0% {
        stroke-dashoffset: 1500;
        opacity: 0.8;
      }
      50% {
        stroke-dashoffset: 0;
      }
      100% {
        stroke-dashoffset: -1500;
        opacity: 0.8;
      }
    }
  </style>
</head>
<body>
  <canvas id="matrix-bg"></canvas>
  <div class="center-bg">
    <form action="javascript:void(0);" class="form" id="welcome-section">
      <img src="https://api.dicebear.com/7.x/miniavs/svg?seed=ç‹å®¶ç¿" class="avatar" alt="å¤´åƒ" style="margin-bottom: 1rem;" />
      <p style="margin-bottom:0;">
        ç‹å®¶ç¿çš„ä¸ªäººç®€å†
        <span>æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸“å±ç©ºé—´</span>
      </p>
      <div class="intro" style="text-align:center; color:#374151; font-size:15px; margin-bottom:0;">
        é‡åº†ç†å·¥å¤§å­¦ Â· ç”µå­ä¿¡æ¯å·¥ç¨‹ Â· çƒ­çˆ±ç¼–ç¨‹ä¸åˆ›æ–°<br>
        <strong>å­¦é™¢ï¼š</strong>ç”µæ°”ä¸ç”µå­å·¥ç¨‹å­¦é™¢<br>
        <strong>ç»©ç‚¹ï¼š</strong>3.2 / 5.0
        <div style="margin-top:0.8rem; text-align:left;">
          <strong>æŠ€èƒ½æ ˆï¼š</strong>
          <ul style="margin:0.5rem 0 0 1.2rem; padding:0; color:#374151; font-size:14px; text-align:left;">
            <li>ä½¿ç”¨ <strong>Cè¯­è¨€</strong> è¿›è¡Œå•ç‰‡æœºç¼–ç¨‹ (å¦‚ï¼šSTM32, ti,åˆæ³°ç³»åˆ—ç­‰)</li>
            <li>ä½¿ç”¨ <strong>Verilog HDL</strong> è¿›è¡Œ FPGA è®¾è®¡ä¸ç¼–ç¨‹</li>
            <li>ä½¿ç”¨ <strong>Python</strong> è¿›è¡Œä¸Šä½æœºæ§åˆ¶æˆ–æ¡Œé¢åº”ç”¨ç¼–ç¨‹</li>
            <li>ç†Ÿæ‚‰ <strong>HTML, CSS, JavaScript</strong> è¿›è¡Œç½‘é¡µå¼€å‘</li>
          </ul>
        </div>
      </div>
      <div class="separator">
        <div></div>
        <span>OR</span>
        <div></div>
      </div>
      <input type="text" placeholder="è¯·è¾“å…¥ä½ çš„æ˜µç§°" id="nickname" name="nickname">
      <button class="oauthButton" type="button" onclick="startChat()">
        è¿›å…¥ç•™è¨€ä¸æŸ¥çœ‹ç®€å†
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 17 5-5-5-5"></path><path d="m13 17 5-5-5-5"></path></svg>
      </button>
    </form>
    <div id="leave-section" style="display:none;">
      <div class="card" id="chat-section" style="display:none;">
        <h2>ğŸ’¬ æ¬¢è¿ <span id="welcome-name"></span>ï¼è¯·ç•™è¨€ï¼š</h2>
        <label class="input-label" for="message-input">ä½ çš„ç•™è¨€ï¼š</label>
        <input class="input" placeholder="å†™ç‚¹ä»€ä¹ˆ..." type="text" id="message-input" />
        <button class="btn" onclick="submitMessage()">æäº¤ç•™è¨€</button>
        <div id="loading-animation" class="loader">
          <span class="l">L</span><span class="o">O</span><span class="a">A</span><span class="d">D</span><span class="ispan">I</span><span class="n">N</span><span class="g">G</span>
        </div>
        <div class="mt-6" id="messages"></div>
      </div>
    </div>
  </div>

    <!-- ä¸ªäººç®€ä»‹ -->
    <div class="card" id="profile-section" style="display:none;">
      <h2>å…³äºæˆ‘ - ç‹å®¶ç¿</h2>
      <p><strong>å­¦æ ¡ï¼š</strong> é‡åº†ç†å·¥å¤§å­¦</p>
      <p><strong>å­¦é™¢ï¼š</strong> ç”µæ°”ä¸ç”µå­å·¥ç¨‹å­¦é™¢</p>
      <p><strong>ä¸“ä¸šï¼š</strong> ç”µå­ä¿¡æ¯å·¥ç¨‹</p>
      <p><strong>ç»©ç‚¹ï¼š</strong> 3.2 / 5.0</p>
      <h3 class="skills-title">æŠ€èƒ½æ ˆ</h3>
      <ul class="skills-list">
        <li>ä½¿ç”¨ <strong>Cè¯­è¨€</strong> è¿›è¡Œå•ç‰‡æœºç¼–ç¨‹ (å¦‚ï¼šSTM32, ti,åˆæ³°ç³»åˆ—ç­‰)</li>
        <li>ä½¿ç”¨ <strong>Verilog HDL</strong> è¿›è¡Œ FPGA (ç°åœºå¯ç¼–ç¨‹é—¨é˜µåˆ—) è®¾è®¡ä¸ç¼–ç¨‹</li>
        <li>ä½¿ç”¨ <strong>Python</strong> è¿›è¡Œä¸Šä½æœºæ§åˆ¶æˆ–æ¡Œé¢åº”ç”¨ç¼–ç¨‹</li>
        <li>ç†Ÿæ‚‰å‰ç«¯æŠ€æœ¯ï¼ŒåŒ…æ‹¬ <strong>HTML, CSS, JavaScript</strong> (ä»¥åŠåƒD3.jsè¿™æ ·çš„åº“) è¿›è¡Œç½‘é¡µå¼€å‘</li>
      </ul>
      <p style="margin-top: 1.5rem;">æ¬¢è¿ä¸æˆ‘äº¤æµï¼</p>
    </div>
  
  <!-- ç‹¬ç«‹å†…å®¹åŒº -->
  <div class="main-container">
    <div id="home-section" class="page-section" style="display:block;">
      <div class="card"><h2>é¦–é¡µ</h2><p>æ¬¢è¿æ¥åˆ°é¦–é¡µï¼è¿™é‡Œæ˜¯æ€»ä½“ä»‹ç»ã€‚</p></div>
    </div>
    <div id="games-section" class="page-section" style="display:none;">
      <div class="card" style="display: flex; justify-content: center; align-items: center; height: 100%; background: none; box-shadow: none;">
        <div class="container-card-charts">
          <div class="card-charts">
            <div class="tags-card">
              <label class="radio">
                <input type="radio" name="radio" />
                <span class="name">1H</span>
              </label>
              <label class="radio">
                <input type="radio" name="radio" />
                <span class="name">1D</span>
              </label>
              <label class="radio">
                <input type="radio" name="radio" checked="" />
                <span class="name">1W</span>
              </label>
              <label class="radio">
                <input type="radio" name="radio" />
                <span class="name">1M</span>
              </label>
              <label class="radio">
                <input type="radio" name="radio" />
                <span class="name">ALL</span>
              </label>
            </div>
            <div class="main-texts">
              <p class="title">BTC 70K</p>
              <p class="change">-2.92%</p>
            </div>
            <div class="charts-lines">
              <i class="icon-week">
                <svg viewBox="0 0 469 262" fill="none">
                  <path d="M2.5 261L6.42112 216.887C6.4726 216.308 6.69121 215.757 7.05039 215.3L11.359 209.816C11.7743 209.287 12 208.635 12 207.962V202.987C12 202.346 12.2055 201.722 12.5863 201.206L27.2479 181.342C27.4151 181.115 27.5496 180.866 27.6474 180.602L31.7748 169.458C32.2107 168.281 33.333 167.5 34.588 167.5H35.5756C37.8226 167.5 39.292 169.89 38.4086 171.956C36.1137 177.322 34.0615 183.976 36.5 185.5C39.338 187.274 43.1722 202.55 45.2823 212.494C45.6701 214.321 47.5992 215.378 49.3403 214.701L53.6761 213.015C54.5141 212.689 55.1618 212.004 55.4407 211.15L78.3519 140.954C78.45 140.653 78.5 140.339 78.5 140.023V114.385C78.5 114.129 78.5327 113.875 78.5974 113.627L95.9026 47.3728C95.9673 47.1253 96 46.8705 96 46.6147V27L102.483 117.259C102.494 117.42 102.519 117.578 102.555 117.735L108.878 144.485C108.959 144.826 109.098 145.15 109.291 145.442L117.591 158.073C118.871 160.022 121.788 159.829 122.8 157.729L131.594 139.49C132.629 137.343 135.632 137.202 136.864 139.241L147.401 156.681C148.059 157.771 149.334 158.326 150.581 158.067L170.757 153.863C171.832 153.639 172.942 154.02 173.654 154.856L187.803 171.481C189.536 173.517 192.865 172.441 193.078 169.776L199.81 85.6203C200.037 82.7832 203.718 81.8273 205.297 84.1955L227.5 117.5L230.279 122.299C231.461 124.342 234.43 124.282 235.53 122.194L237.842 117.801C237.947 117.601 238.074 117.414 238.222 117.242L261.286 90.4123C262.029 89.5473 263.199 89.1789 264.304 89.4616L280.695 93.6546C282.448 94.1029 284.196 92.9099 284.416 91.1144L294.882 6.02633C295.16 3.76377 297.761 2.62601 299.611 3.95714L322.945 20.7414C323.618 21.2254 324.061 21.9662 324.168 22.7881L335.097 106.419C335.317 108.103 336.89 109.268 338.565 108.989L365.007 104.582C366.835 104.277 368.5 105.688 368.5 107.541V116.792C368.5 117.258 368.608 117.717 368.817 118.133L385.671 151.842C386.179 152.858 387.218 153.5 388.354 153.5H393.231C393.736 153.5 394.232 153.373 394.674 153.13L406.191 146.814C407.884 145.886 409.999 146.775 410.522 148.633L418.132 175.692C418.366 176.523 418.23 177.415 417.76 178.139L412.903 185.611C412.341 186.476 412.262 187.568 412.694 188.504L426.196 217.757C426.686 218.82 427.749 219.5 428.919 219.5H439.146C440.282 219.5 441.321 220.142 441.829 221.158L454.169 245.839C454.387 246.273 454.706 246.648 455.1 246.932L467 255.5" stroke="url(#paint0_linear_230_5)" stroke-width="5" stroke-dasharray="1500"></path>
                  <defs>
                    <linearGradient id="paint0_linear_230_5" x1="3" y1="176" x2="463" y2="189" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#89FB73" stop-opacity="0.05"></stop>
                      <stop offset="0.5" stop-color="white"></stop>
                      <stop offset="1" stop-color="#A62727" stop-opacity="0.1"></stop>
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <i class="icon-month">
                <svg fill="none" viewBox="0 0 472 170">
                  <path d="M2.5 167L7.87783 124.955C7.95728 124.334 8.22911 123.753 8.65521 123.294L12.5765 119.071C13.6568 117.908 15.4565 117.788 16.682 118.797L23 124L28.9022 129.246C30.4289 130.603 32.8358 130.071 33.648 128.197L37.7169 118.807C38.1923 117.71 39.2738 117 40.4696 117H47.9618C49.192 117 50.2976 116.249 50.7508 115.105L60.1181 91.4638C60.3655 90.8394 60.8153 90.316 61.3955 89.9776L72.0575 83.7581C72.3504 83.5873 72.6122 83.368 72.8317 83.1097L77.1069 78.0801C78.7093 76.195 81.7764 76.9507 82.3195 79.3645L85.1283 91.848C85.359 92.8733 86.1094 93.7031 87.1064 94.0355L93.877 96.2923C95.1364 96.7121 96.522 96.2542 97.2833 95.1666L116.458 67.7747C116.811 67.2705 117 66.6698 117 66.0543V52C117 50.3431 118.343 49 120 49H137.857C138.88 49 139.834 49.5221 140.385 50.3848L150.824 66.7248C150.941 66.9077 151.077 67.0774 151.231 67.2309L155.012 71.0123C156.318 72.3175 158.481 72.1456 159.563 70.6505L165.937 61.8495C167.019 60.3544 169.182 60.1824 170.488 61.4877L179.121 70.1213C179.684 70.6839 180.447 71 181.243 71H200.338C200.774 71 201.205 71.0952 201.601 71.279L213.688 76.891C214.517 77.2758 215.476 77.2619 216.293 76.8533L221.342 74.3292C222.358 73.821 223 72.7822 223 71.6459V37.4669C223 36.2725 223.704 35.1822 224.827 34.7763C228.907 33.3021 234.813 32.0629 235.5 35.5C236.221 39.1067 245.127 48.1338 250.781 53.4172C251.786 54.3559 253.302 54.4654 254.446 53.7028L261.5 49L279.106 36.4903C279.97 35.8764 281.094 35.7639 282.062 36.1944L292.391 40.7847C293.384 41.2263 294.539 41.0957 295.409 40.4433L301.025 36.2309C301.65 35.7622 302.068 35.0683 302.189 34.2966L306.775 5.11153C307.114 2.95384 309.572 1.87012 311.394 3.07489L337.527 20.3567C338.153 20.7705 338.601 21.4037 338.783 22.1314L344.852 46.4092C345.222 47.8862 346.639 48.8524 348.148 48.6567L370.337 45.7804C371.627 45.6132 372.877 46.296 373.434 47.4713L376.858 54.6994C376.952 54.8992 377.069 55.0879 377.205 55.2621L388.12 69.2333C388.938 70.281 390.349 70.665 391.585 70.1768L405.789 64.5701C407.299 63.9741 409.009 64.687 409.648 66.1788L414.257 76.934C414.417 77.3074 414.5 77.7095 414.5 78.1158V84.3944C414.5 85.3975 415.001 86.3342 415.836 86.8906L437 101L456.676 112.518C457.212 112.832 457.638 113.304 457.894 113.869L469.5 139.5" stroke="url(#paint0_linear_230_6)" stroke-width="5" stroke-dasharray="1500"></path>
                  <defs>
                    <linearGradient gradientUnits="userSpaceOnUse" y2="84" x2="465.5" y1="84" x1="14" id="paint0_linear_230_6">
                      <stop stop-opacity="0.1" stop-color="white"></stop>
                      <stop stop-color="white" offset="0.5"></stop>
                      <stop stop-opacity="0.1" stop-color="white" offset="1"></stop>
                    </linearGradient>
                  </defs>
                </svg>
              </i>
              <div class="lines">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="archive-section" class="page-section" style="display:none;">
      <div class="card"><h2>èµ„æ–™åŒº</h2><p>è¿™é‡Œå­˜æ”¾æ‰€æœ‰ä»£ç å’Œèµ„æ–™ã€‚</p></div>
    </div>
    <div id="chat-section" class="page-section" style="display:none;">
      <div class="card"><h2>ç•™è¨€æ¿</h2><p>è¿™é‡Œæ˜¯ç•™è¨€æ¿å†…å®¹ã€‚</p></div>
    </div>
  </div>

  <!-- å›ºå®šåº•éƒ¨èœå• -->
  <div class="menu" id="bottom-menu">
    <a href="#" class="link active" id="nav-home" data-target="home-section">
      <span class="link-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 256 256">
          <rect width="256" height="256" fill="none"></rect>
          <path d="M213.3815,109.61945,133.376,36.88436a8,8,0,0,0-10.76339.00036l-79.9945,72.73477A8,8,0,0,0,40,115.53855V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V115.53887A8,8,0,0,0,213.3815,109.61945Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path>
        </svg>
      </span>
      <span class="link-title">é¦–é¡µ</span>
    </a>
    <a href="#" class="link" id="nav-games" data-target="games-section">
      <span class="link-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>
      </span>
      <span class="link-title">Games</span>
    </a>
    <a href="#" class="link" id="nav-archive" data-target="archive-section">
      <span class="link-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 24 24"><path d="M20.54 5.23l-1.39-1.39C18.93 3.53 18.48 3.5 18.07 3.5H5.93c-.41 0-.86.03-1.08.34l-1.39 1.39C3.21 5.42 3 5.7 3 6v2c0 .55.45 1 1 1h1v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V9h1c.55 0 1-.45 1-1V6c0-.3-.21-.58-.46-.77zM19 8H5V6.12l.93-.92h12.14l.93.92V8zm-2 10H7V9h10v9z"/></svg>
      </span>
      <span class="link-title">èµ„æ–™</span>
    </a>
    <a href="#" class="link" id="nav-chat" data-target="chat-section">
      <span class="link-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 24 24"><path d="M21 6h-2v9H5V6H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 14H3v-2h18v2zm0-4H3v-2h18v2zm0-4H3v-2h18v2z"/></svg>
      </span>
      <span class="link-title">ç•™è¨€</span>
    </a>
  </div>
  </body>
  </html>

<script>
  (function() {
    const canvas = document.getElementById("matrix-bg");
    const ctx = canvas.getContext("2d");
    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;
    const fontSize = 20;
    const arr = Array(Math.ceil(width / fontSize)).fill(0);
    const str = "01".split(""); // åªåŒ…å«0å’Œ1

    function rain() {
      ctx.fillStyle = "rgba(0,0,0,0.08)";
      ctx.fillRect(0, 0, width, height);
      ctx.fillStyle = "#0f0";
      ctx.font = fontSize + "px monospace";
      arr.forEach(function (value, index) {
        ctx.fillText(str[Math.floor(Math.random() * str.length)], index * fontSize, value + fontSize);
        arr[index] = value >= height || value > 8888 * Math.random() ? 0 : value + fontSize;
      });
    }

    setInterval(rain, 80); // 80msï¼Œé€Ÿåº¦æ›´æ…¢

    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    });
  })();

  document.addEventListener('DOMContentLoaded', function() {
    var showBtn = document.getElementById('show-leave-btn');
    var leaveSection = document.getElementById('leave-section');
    if(showBtn && leaveSection) {
      showBtn.addEventListener('click', function() {
        showBtn.style.display = 'none';
        leaveSection.style.display = 'block';
      });
    }
    const links = document.querySelectorAll('.menu .link');
    links.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        // åˆ‡æ¢é«˜äº®
        links.forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        // åˆ‡æ¢å†…å®¹åŒº
        const target = this.getAttribute('data-target');
        document.querySelectorAll('.page-section').forEach(sec => sec.style.display = 'none');
        document.getElementById(target).style.display = 'block';
      });
    });
  });
</script>
